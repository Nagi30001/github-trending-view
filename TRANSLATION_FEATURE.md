# 翻译功能说明

## 🌐 新增功能

自动翻译项目描述为中文，提升中文用户的阅读体验。

## 📋 功能特点

1. **自动检测语言**
   - 智能检测描述是否已包含中文
   - 已是中文的描述会跳过翻译

2. **使用免费翻译 API**
   - 使用 MyMemory Translation API
   - 无需 API 密钥
   - 每日免费配额充足

3. **批量翻译优化**
   - 并发翻译控制（默认 3 个并发）
   - 请求之间添加延迟，避免被限流
   - 失败时自动回退到原文

4. **错误处理**
   - 翻译服务不可用时保留原文
   - 网络错误时优雅降级
   - 详细的日志输出

## 🔧 使用方法

### 运行数据抓取和翻译

```bash
# 抓取新数据（会自动翻译）
npm run fetch

# 生成静态数据
npm run build:data

# 或一键执行
npm run build
```

### 测试翻译功能

```bash
node scripts/test-translate.js
```

## 📝 示例

翻译前的描述：
```
"The open source coding agent."
```

翻译后的描述：
```
"开源编码代理。"
```

## ⚙️ 配置选项

可以在 `scripts/fetch-trending.js` 中调整：

```javascript
// 并发翻译数量（避免请求过快）
const concurrency = 3;

// 翻译 API 地址
const TRANSLATE_API = 'https://api.mymemory.translated.net/get';
```

## 📊 工作流程

```
抓取数据
  ↓
提取英文描述
  ↓
批量翻译（每3个一批）
  ↓
保存翻译后的数据
  ↓
生成静态文件 (public/data.js)
```

## 💡 注意事项

1. **翻译 API 限制**
   - MyMemory API 有每日使用限制
   - 建议不要频繁抓取（每天 1-2 次即可）

2. **翻译质量**
   - 机器翻译可能不完美
   - 专业的技术术语可能有误译

3. **性能考虑**
   - 翻译会延长抓取时间
   - 每个项目约需 1-2 秒

## 🚀 未来改进

- [ ] 支持其他翻译服务（Google Translate, DeepL）
- [ ] 添加翻译缓存
- [ ] 支持多语言翻译
- [ ] 提供翻译质量评分

## 📞 问题反馈

如果遇到翻译问题，请检查：
1. 网络连接是否正常
2. API 服务是否可用
3. 查看控制台日志获取详细错误信息
